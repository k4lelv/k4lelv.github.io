<!doctype html>
<!--
  Minimal Mistakes Jekyll Theme 4.15.1 by Michael Rose
  Copyright 2013-2019 Michael Rose - mademistakes.com | @mmistakes
  Free for personal and commercial use under the MIT license
  https://github.com/mmistakes/minimal-mistakes/blob/master/LICENSE
-->
<html lang="en" class="no-js">
  <head>
    <meta charset="utf-8">

<!-- begin _includes/seo.html --><title>Canal encubierto en WhatsApp - k4lelv.io</title>
<meta name="description" content="En el siguiente artículo, os muestro una forma de mantener conversaciones encubiertas sin que quede registro en el historial de conversaciones de WhatsApp. De esta forma, dos personas pueden mantener una conversación mediante la lectura de logs a tiempo de escritura sin necesidad de enviar el mensaje.">



<meta property="og:type" content="article">
<meta property="og:locale" content="en_US">
<meta property="og:site_name" content="k4lelv.io">
<meta property="og:title" content="Canal encubierto en WhatsApp">
<meta property="og:url" content="http://localhost:4000/canal-encubierto-whatsapp/">


  <meta property="og:description" content="En el siguiente artículo, os muestro una forma de mantener conversaciones encubiertas sin que quede registro en el historial de conversaciones de WhatsApp. De esta forma, dos personas pueden mantener una conversación mediante la lectura de logs a tiempo de escritura sin necesidad de enviar el mensaje.">



  <meta property="og:image" content="http://localhost:4000https://k4lelv.github.io/k4lelvBlog.github.io/assets/images/whatsapp-canal-encubierto/whatsapp-banner.jpeg">





  <meta property="article:published_time" content="2020-02-03T00:00:00+00:00">





  

  


<link rel="canonical" href="http://localhost:4000/canal-encubierto-whatsapp/">







  <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "Person",
      "name": "k4lelv",
      "url": "http://localhost:4000",
      "sameAs": null
    }
  </script>







<!-- end _includes/seo.html -->


<link href="/feed.xml" type="application/atom+xml" rel="alternate" title="k4lelv.io Feed">

<!-- https://t.co/dKP3o1e -->
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<script>
  document.documentElement.className = document.documentElement.className.replace(/\bno-js\b/g, '') + ' js ';
</script>

<!-- For all browsers -->
<link rel="stylesheet" href="/assets/css/main.css">

<!--[if IE ]>
  <style>
    /* old IE unsupported flexbox fixes */
    .greedy-nav .site-title {
      padding-right: 3em;
    }
    .greedy-nav button {
      position: absolute;
      top: 0;
      right: 0;
      height: 100%;
    }
  </style>
<![endif]-->



    <!-- start custom head snippets -->

<!-- insert favicons. use https://realfavicongenerator.net/ -->

<!-- end custom head snippets -->

  </head>

  <body class="layout--single wide">

    <!--[if lt IE 9]>
<div class="notice--danger align-center" style="margin: 0;">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience.</div>
<![endif]-->

    

<div class="masthead">
  <div class="masthead__inner-wrap">
    <div class="masthead__menu">
      <nav id="site-nav" class="greedy-nav">
        
          <a class="site-logo" href="/"><img src="https://k4lelv.github.io/k4lelvBlog.github.io/assets/images/masthead.png" alt=""></a>
                
        <ul class="visible-links"><li class="masthead__menu-item">
              <a href="/" >Home</a>
            </li><li class="masthead__menu-item">
              <a href="/year-archive/" >Artículos</a>
            </li><li class="masthead__menu-item">
              <a href="/categories/" >Categorías</a>
            </li><li class="masthead__menu-item">
              <a href="/tags/" >Etiquetas</a>
            </li><li class="masthead__menu-item">
              <a href="/videos/" >Vídeos</a>
            </li><li class="masthead__menu-item">
              <a href="/buscador/" >Buscador</a>
            </li><li class="masthead__menu-item">
              <a href="/about/" >Contacto</a>
            </li></ul>
        
        <button class="greedy-nav__toggle hidden" type="button">
          <span class="visually-hidden">Toggle menu</span>
          <div class="navicon"></div>
        </button>
        <ul class="hidden-links hidden"></ul>
      </nav>
    </div>
  </div>
</div>
    

    <div class="initial-content">
      


  
    



<nav class="breadcrumbs">
  <ol itemscope itemtype="https://schema.org/BreadcrumbList">
    
    
    
      
        <li itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem">
          <a href="http://localhost:4000/" itemprop="item"><span itemprop="name">Home</span></a>
          <meta itemprop="position" content="1" />
        </li>
        <span class="sep">/</span>
      
      
        <li class="current">Canal encubierto en WhatsApp</li>
      
    
  </ol>
</nav>

  


<div id="main" role="main">
  
  <div class="sidebar sticky">
  


<div itemscope itemtype="https://schema.org/Person">

  
    <div class="author__avatar">
      

      
        <img src="https://k4lelv.github.io/k4lelvBlog.github.io/assets/images/avatar.png" alt="k4lelv" itemprop="image">
      
    </div>
  

  <div class="author__content">
    
      <h3 class="author__name" itemprop="name">k4lelv</h3>
    
    
      <p class="author__bio" itemprop="description">
        Pentester / OSCP / OSWP
      </p>
    
  </div>

  <div class="author__urls-wrapper">
    <button class="btn btn--inverse">Follow</button>
    <ul class="author__urls social-icons">
      
        <li itemprop="homeLocation" itemscope itemtype="https://schema.org/Place">
          <i class="fas fa-fw fa-map-marker-alt" aria-hidden="true"></i> <span itemprop="name">Tenerife</span>
        </li>
      

      

      

      
        <li>
          <a href="mailto:s4vipriv@gmail.com">
            <meta itemprop="email" content="s4vipriv@gmail.com" />
            <i class="fas fa-fw fa-envelope-square" aria-hidden="true"></i> Email
          </a>
        </li>
      

      

      
        <li>
          <a href="https://twitter.com/k4lelv" itemprop="sameAs" rel="nofollow noopener noreferrer">
            <i class="fab fa-fw fa-twitter-square" aria-hidden="true"></i> Twitter
          </a>
        </li>
      

      

      

      
        <li>
          <a href="https://www.linkedin.com/in/k4lelv" itemprop="sameAs" rel="nofollow noopener noreferrer">
            <i class="fab fa-fw fa-linkedin" aria-hidden="true"></i> LinkedIn
          </a>
        </li>
      

      

      

      

      

      
        <li>
          <a href="https://github.com/k4lelv" itemprop="sameAs" rel="nofollow noopener noreferrer">
            <i class="fab fa-fw fa-github" aria-hidden="true"></i> GitHub
          </a>
        </li>
      

      

      

      

      

      

      

      

      
        
          <li>
            <a href="https://youtube.com/c/k4lelv" itemprop="sameAs" rel="nofollow noopener noreferrer">
              <i class="fab fa-fw fa-youtube" aria-hidden="true"></i> YouTube
            </a>
          </li>
        
      

      

      

      

      

      

      <!--
  <li>
    <a href="http://link-to-whatever-social-network.com/user/" itemprop="sameAs" rel="nofollow noopener noreferrer">
      <i class="fas fa-fw" aria-hidden="true"></i> Custom Social Profile Link
    </a>
  </li>
-->
    </ul>
  </div>
</div>

  
  </div>


  <article class="page" itemscope itemtype="https://schema.org/CreativeWork">
    <meta itemprop="headline" content="Canal encubierto en WhatsApp">
    <meta itemprop="description" content="En el siguiente artículo, os muestro una forma de mantener conversaciones encubiertas sin que quede registro en el historial de conversaciones de WhatsApp. De esta forma, dos personas pueden mantener una conversación mediante la lectura de logs a tiempo de escritura sin necesidad de enviar el mensaje.">
    <meta itemprop="datePublished" content="February 03, 2020">
    

    <div class="page__inner-wrap">
      
        <header>
          <h1 id="page-title" class="page__title" itemprop="headline">Canal encubierto en WhatsApp
</h1>
          
        </header>
      

      <section class="page__content" itemprop="text">
        
        <p class="page__meta">
          
            <i class="fa fa-fw fa-calendar" aria-hidden="true"></i> <time datetime="2020-02-03T00:00:00+00:00">February 03, 2020 </time>&emsp;
          
          
        </p>
        <p align="center">
<img src="https://k4lelv.github.io/k4lelvBlog.github.io/assets/images/whatsapp-canal-encubierto/whatsapp-banner.jpeg" width="500" />
</p>

<p>En el siguiente artículo, os muestro una forma de mantener conversaciones encubiertas sin que quede registro en el historial de conversaciones de WhatsApp. De esta forma, dos personas pueden mantener una conversación mediante la lectura de logs a tiempo de escritura sin necesidad de enviar el mensaje.</p>

<h2 id="antecedentes">Antecedentes</h2>

<p>Para poder poner en práctica esta utilidad, en mi caso cuento con un servidor web alojado en <a href="https://www.heroku.com/">Heroku</a>. Este paso es opcional, vosotros podréis usar lo que queráis… incluso un servidor HTTP montado con Python desde vuestro VPS.</p>

<p>La URL que estaré utilizando para el canal encubierto será la siguiente:</p>

<ul>
  <li><a href="http://k4lelv.herokuapp.com">http://k4lelv.herokuapp.com</a></li>
</ul>

<p align="center">
<img src="https://k4lelv.github.io/k4lelvBlog.github.io/assets/images/whatsapp-canal-encubierto/page-herokuapp.jpg" />
</p>

<p>Entonces bien, ¿cómo hacemos?, pues fijaros. Una de las utilidades de heroku es el comando <code class="language-plaintext highlighter-rouge">heroku logs -t</code> aplicado desde consola, donde podemos visualizar las peticiones a tiempo real en formato log que se están realizando contra el servidor. Para el que no cuente con <code class="language-plaintext highlighter-rouge">heroku</code> instalado en el sistema, podéis aplicar el comando <code class="language-plaintext highlighter-rouge">snap install heroku --classic</code> y ya lo tendríais.</p>

<p>Posteriormente, deberéis aplicar el siguiente comando desde consola para iniciar sesión con vuestra cuenta:</p>

<div class="language-go highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="err">┌─</span><span class="p">[</span><span class="n">root</span><span class="err">@</span><span class="n">parrot</span><span class="p">]</span><span class="err">─</span><span class="p">[</span><span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">k4lelv</span><span class="o">/</span><span class="n">Desktop</span><span class="p">]</span>
<span class="err">└──╼</span> <span class="err">#</span><span class="n">heroku</span> <span class="n">login</span>
<span class="n">heroku</span><span class="o">:</span> <span class="n">Press</span> <span class="n">any</span> <span class="n">key</span> <span class="n">to</span> <span class="n">open</span> <span class="n">up</span> <span class="n">the</span> <span class="n">browser</span> <span class="n">to</span> <span class="n">login</span> <span class="n">or</span> <span class="n">q</span> <span class="n">to</span> <span class="n">exit</span><span class="o">:</span>
<span class="n">Opening</span> <span class="n">browser</span> <span class="n">to</span> <span class="n">https</span><span class="o">:</span><span class="c">//cli-auth.heroku.com/auth/cli/browser/35e6XXXX-XXXX-XXXX-87d0-bf7ff75XXXXX</span>
<span class="n">heroku</span><span class="o">:</span> <span class="n">Waiting</span> <span class="k">for</span> <span class="n">login</span><span class="o">...</span> <span class="err">⣟</span>
</code></pre></div></div>

<p>Se os abrirá el navegador (en caso de que no se os abra, simplemente tenéis que acceder a la URL que se os proporciona). Una vez logueados, deberíais ver lo siguiente:</p>

<div class="language-go highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="err">┌─</span><span class="p">[</span><span class="n">root</span><span class="err">@</span><span class="n">parrot</span><span class="p">]</span><span class="err">─</span><span class="p">[</span><span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">k4lelv</span><span class="o">/</span><span class="n">Desktop</span><span class="p">]</span>
<span class="err">└──╼</span> <span class="err">#</span><span class="n">heroku</span> <span class="n">login</span>
<span class="n">heroku</span><span class="o">:</span> <span class="n">Press</span> <span class="n">any</span> <span class="n">key</span> <span class="n">to</span> <span class="n">open</span> <span class="n">up</span> <span class="n">the</span> <span class="n">browser</span> <span class="n">to</span> <span class="n">login</span> <span class="n">or</span> <span class="n">q</span> <span class="n">to</span> <span class="n">exit</span><span class="o">:</span> 
<span class="n">Opening</span> <span class="n">browser</span> <span class="n">to</span> <span class="n">https</span><span class="o">:</span><span class="c">//cli-auth.heroku.com/auth/cli/browser/35e6XXXX-XXXX-XXXX-87d0-bf7ff75XXXXX</span>
<span class="n">Logging</span> <span class="n">in</span><span class="o">...</span> <span class="n">done</span>
<span class="n">Logged</span> <span class="n">in</span> <span class="n">as</span> <span class="n">k4lelvx</span><span class="err">@</span><span class="n">gmail</span><span class="o">.</span><span class="n">com</span>
</code></pre></div></div>

<p>Os descargáis el repositorio correspondiente a la página web que se dispone de forma pública:</p>

<div class="language-go highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="err">┌─</span><span class="p">[</span><span class="n">root</span><span class="err">@</span><span class="n">parrot</span><span class="p">]</span><span class="err">─</span><span class="p">[</span><span class="o">/</span><span class="n">opt</span><span class="p">]</span>
<span class="err">└──╼</span> <span class="err">#</span><span class="n">heroku</span> <span class="n">git</span><span class="o">:</span><span class="n">clone</span> <span class="o">-</span><span class="n">a</span> <span class="n">k4lelv</span>
<span class="n">Clonando</span> <span class="n">en</span> <span class="err">'</span><span class="n">k4lelv</span><span class="err">'</span><span class="o">...</span>
<span class="n">remote</span><span class="o">:</span> <span class="n">Counting</span> <span class="n">objects</span><span class="o">:</span> <span class="m">10</span><span class="p">,</span> <span class="n">done</span><span class="o">.</span>
<span class="n">remote</span><span class="o">:</span> <span class="n">Compressing</span> <span class="n">objects</span><span class="o">:</span> <span class="m">100</span><span class="o">%</span> <span class="p">(</span><span class="m">6</span><span class="o">/</span><span class="m">6</span><span class="p">),</span> <span class="n">done</span><span class="o">.</span>
<span class="n">remote</span><span class="o">:</span> <span class="n">Total</span> <span class="m">10</span> <span class="p">(</span><span class="n">delta</span> <span class="m">0</span><span class="p">),</span> <span class="n">reused</span> <span class="m">0</span> <span class="p">(</span><span class="n">delta</span> <span class="m">0</span><span class="p">)</span>
<span class="n">Desempaquetando</span> <span class="n">objetos</span><span class="o">:</span> <span class="m">100</span><span class="o">%</span> <span class="p">(</span><span class="m">10</span><span class="o">/</span><span class="m">10</span><span class="p">),</span> <span class="n">listo</span><span class="o">.</span>
<span class="err">┌─</span><span class="p">[</span><span class="n">root</span><span class="err">@</span><span class="n">parrot</span><span class="p">]</span><span class="err">─</span><span class="p">[</span><span class="o">/</span><span class="n">opt</span><span class="p">]</span>
<span class="err">└──╼</span> <span class="err">#</span><span class="n">cd</span> <span class="n">k4lelv</span>
<span class="err">┌─</span><span class="p">[</span><span class="n">root</span><span class="err">@</span><span class="n">parrot</span><span class="p">]</span><span class="err">─</span><span class="p">[</span><span class="o">/</span><span class="n">opt</span><span class="o">/</span><span class="n">k4lelv</span><span class="p">]</span>
<span class="err">└──╼</span> <span class="err">#</span><span class="n">ls</span>
<span class="n">index</span><span class="o">.</span><span class="n">html</span>
<span class="err">┌─</span><span class="p">[</span><span class="err">✗</span><span class="p">]</span><span class="err">─</span><span class="p">[</span><span class="n">root</span><span class="err">@</span><span class="n">parrot</span><span class="p">]</span><span class="err">─</span><span class="p">[</span><span class="o">/</span><span class="n">opt</span><span class="o">/</span><span class="n">k4lelv</span><span class="p">]</span>
<span class="err">└──╼</span> <span class="err">#</span><span class="n">cat</span> <span class="n">index</span><span class="o">.</span><span class="n">html</span> 
<span class="n">Test</span>
<span class="err">┌─</span><span class="p">[</span><span class="n">root</span><span class="err">@</span><span class="n">parrot</span><span class="p">]</span><span class="err">─</span><span class="p">[</span><span class="o">/</span><span class="n">opt</span><span class="o">/</span><span class="n">k4lelv</span><span class="p">]</span>
<span class="err">└──╼</span> <span class="err">#</span>
</code></pre></div></div>

<p>Y una vez situados dentro del directorio de vuestro proyecto, aplicáis el siguiente comando:</p>

<div class="language-go highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="err">┌─</span><span class="p">[</span><span class="n">root</span><span class="err">@</span><span class="n">parrot</span><span class="p">]</span><span class="err">─</span><span class="p">[</span><span class="o">/</span><span class="n">opt</span><span class="o">/</span><span class="n">k4lelv</span><span class="p">]</span>
<span class="err">└──╼</span> <span class="err">#</span><span class="n">heroku</span> <span class="n">logs</span> <span class="o">-</span><span class="n">t</span>
<span class="m">2020</span><span class="o">-</span><span class="m">02</span><span class="o">-</span><span class="m">03</span><span class="n">T11</span><span class="o">:</span><span class="m">15</span><span class="o">:</span><span class="m">21.183720</span><span class="o">+</span><span class="m">00</span><span class="o">:</span><span class="m">00</span> <span class="n">heroku</span><span class="p">[</span><span class="n">web</span><span class="m">.1</span><span class="p">]</span><span class="o">:</span> <span class="n">Unidling</span>
<span class="m">2020</span><span class="o">-</span><span class="m">02</span><span class="o">-</span><span class="m">03</span><span class="n">T11</span><span class="o">:</span><span class="m">15</span><span class="o">:</span><span class="m">21.187564</span><span class="o">+</span><span class="m">00</span><span class="o">:</span><span class="m">00</span> <span class="n">heroku</span><span class="p">[</span><span class="n">web</span><span class="m">.1</span><span class="p">]</span><span class="o">:</span> <span class="n">State</span> <span class="n">changed</span> <span class="n">from</span> <span class="n">down</span> <span class="n">to</span> <span class="n">starting</span>
<span class="m">2020</span><span class="o">-</span><span class="m">02</span><span class="o">-</span><span class="m">03</span><span class="n">T11</span><span class="o">:</span><span class="m">15</span><span class="o">:</span><span class="m">21.218354</span><span class="o">+</span><span class="m">00</span><span class="o">:</span><span class="m">00</span> <span class="n">heroku</span><span class="p">[</span><span class="n">web</span><span class="m">.1</span><span class="p">]</span><span class="o">:</span> <span class="n">Unidling</span>
<span class="m">2020</span><span class="o">-</span><span class="m">02</span><span class="o">-</span><span class="m">03</span><span class="n">T11</span><span class="o">:</span><span class="m">15</span><span class="o">:</span><span class="m">21.233848</span><span class="o">+</span><span class="m">00</span><span class="o">:</span><span class="m">00</span> <span class="n">heroku</span><span class="p">[</span><span class="n">web</span><span class="m">.1</span><span class="p">]</span><span class="o">:</span> <span class="n">State</span> <span class="n">changed</span> <span class="n">from</span> <span class="n">down</span> <span class="n">to</span> <span class="n">starting</span>
<span class="m">2020</span><span class="o">-</span><span class="m">02</span><span class="o">-</span><span class="m">03</span><span class="n">T11</span><span class="o">:</span><span class="m">15</span><span class="o">:</span><span class="m">22.506281</span><span class="o">+</span><span class="m">00</span><span class="o">:</span><span class="m">00</span> <span class="n">heroku</span><span class="p">[</span><span class="n">web</span><span class="m">.1</span><span class="p">]</span><span class="o">:</span> <span class="n">Starting</span> <span class="n">process</span> <span class="n">with</span> <span class="n">command</span> <span class="s">`heroku-php-apache2`</span>
<span class="m">2020</span><span class="o">-</span><span class="m">02</span><span class="o">-</span><span class="m">03</span><span class="n">T11</span><span class="o">:</span><span class="m">15</span><span class="o">:</span><span class="m">25.046504</span><span class="o">+</span><span class="m">00</span><span class="o">:</span><span class="m">00</span> <span class="n">app</span><span class="p">[</span><span class="n">web</span><span class="m">.1</span><span class="p">]</span><span class="o">:</span> <span class="n">Optimizing</span> <span class="n">defaults</span> <span class="k">for</span> <span class="m">1</span><span class="n">X</span> <span class="n">dyno</span><span class="o">...</span>
<span class="m">2020</span><span class="o">-</span><span class="m">02</span><span class="o">-</span><span class="m">03</span><span class="n">T11</span><span class="o">:</span><span class="m">15</span><span class="o">:</span><span class="m">25.216868</span><span class="o">+</span><span class="m">00</span><span class="o">:</span><span class="m">00</span> <span class="n">app</span><span class="p">[</span><span class="n">web</span><span class="m">.1</span><span class="p">]</span><span class="o">:</span> <span class="m">4</span> <span class="n">processes</span> <span class="n">at</span> <span class="m">128</span><span class="n">MB</span> <span class="n">memory</span> <span class="n">limit</span><span class="o">.</span>
<span class="m">2020</span><span class="o">-</span><span class="m">02</span><span class="o">-</span><span class="m">03</span><span class="n">T11</span><span class="o">:</span><span class="m">15</span><span class="o">:</span><span class="m">25.222173</span><span class="o">+</span><span class="m">00</span><span class="o">:</span><span class="m">00</span> <span class="n">app</span><span class="p">[</span><span class="n">web</span><span class="m">.1</span><span class="p">]</span><span class="o">:</span> <span class="n">Starting</span> <span class="n">php</span><span class="o">-</span><span class="n">fpm</span><span class="o">...</span>
<span class="m">2020</span><span class="o">-</span><span class="m">02</span><span class="o">-</span><span class="m">03</span><span class="n">T11</span><span class="o">:</span><span class="m">15</span><span class="o">:</span><span class="m">27.410773</span><span class="o">+</span><span class="m">00</span><span class="o">:</span><span class="m">00</span> <span class="n">heroku</span><span class="p">[</span><span class="n">web</span><span class="m">.1</span><span class="p">]</span><span class="o">:</span> <span class="n">State</span> <span class="n">changed</span> <span class="n">from</span> <span class="n">starting</span> <span class="n">to</span> <span class="n">up</span>
<span class="m">2020</span><span class="o">-</span><span class="m">02</span><span class="o">-</span><span class="m">03</span><span class="n">T11</span><span class="o">:</span><span class="m">15</span><span class="o">:</span><span class="m">27.224962</span><span class="o">+</span><span class="m">00</span><span class="o">:</span><span class="m">00</span> <span class="n">app</span><span class="p">[</span><span class="n">web</span><span class="m">.1</span><span class="p">]</span><span class="o">:</span> <span class="n">Starting</span> <span class="n">httpd</span><span class="o">...</span>
<span class="m">2020</span><span class="o">-</span><span class="m">02</span><span class="o">-</span><span class="m">03</span><span class="n">T11</span><span class="o">:</span><span class="m">15</span><span class="o">:</span><span class="m">28.234835</span><span class="o">+</span><span class="m">00</span><span class="o">:</span><span class="m">00</span> <span class="n">app</span><span class="p">[</span><span class="n">web</span><span class="m">.1</span><span class="p">]</span><span class="o">:</span> <span class="m">10.111.222.196</span> <span class="o">-</span> <span class="o">-</span> <span class="p">[</span><span class="m">03</span><span class="o">/</span><span class="n">Feb</span><span class="o">/</span><span class="m">2020</span><span class="o">:</span><span class="m">11</span><span class="o">:</span><span class="m">15</span><span class="o">:</span><span class="m">28</span> <span class="o">+</span><span class="m">0000</span><span class="p">]</span> <span class="s">"GET / HTTP/1.1"</span> <span class="m">302</span> <span class="o">-</span> <span class="s">"-"</span> <span class="s">"Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/77.0.3865.120 Safari/537.36
2020-02-03T11:15:28.278228+00:00 app[web.1]: 10.41.198.134 - - [03/Feb/2020:11:15:28 +0000] "</span><span class="n">GET</span> <span class="o">/</span><span class="n">robots</span><span class="o">.</span><span class="n">txt</span> <span class="n">HTTP</span><span class="o">/</span><span class="m">1.1</span><span class="s">" 404 208 "</span><span class="o">-</span><span class="s">" "</span><span class="n">Mozilla</span><span class="o">/</span><span class="m">5.0</span> <span class="p">(</span><span class="n">X11</span><span class="p">;</span> <span class="n">Linux</span> <span class="n">x86_64</span><span class="p">)</span> <span class="n">AppleWebKit</span><span class="o">/</span><span class="m">537.36</span> <span class="p">(</span><span class="n">KHTML</span><span class="p">,</span> <span class="n">like</span> <span class="n">Gecko</span><span class="p">)</span> <span class="n">Chrome</span><span class="o">/</span><span class="m">77.0.3865.120</span> <span class="n">Safari</span><span class="o">/</span><span class="m">537.36</span>
<span class="m">2020</span><span class="o">-</span><span class="m">02</span><span class="o">-</span><span class="m">03</span><span class="n">T11</span><span class="o">:</span><span class="m">15</span><span class="o">:</span><span class="m">28.375383</span><span class="o">+</span><span class="m">00</span><span class="o">:</span><span class="m">00</span> <span class="n">app</span><span class="p">[</span><span class="n">web</span><span class="m">.1</span><span class="p">]</span><span class="o">:</span> <span class="m">10.111.222.196</span> <span class="o">-</span> <span class="o">-</span> <span class="p">[</span><span class="m">03</span><span class="o">/</span><span class="n">Feb</span><span class="o">/</span><span class="m">2020</span><span class="o">:</span><span class="m">11</span><span class="o">:</span><span class="m">15</span><span class="o">:</span><span class="m">28</span> <span class="o">+</span><span class="m">0000</span><span class="p">]</span> <span class="s">"GET /index.html HTTP/1.1"</span> <span class="m">200</span> <span class="m">5</span> <span class="s">"-"</span> <span class="s">"Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/77.0.3865.120 Safari/537.36
2020-02-03T11:15:28.234477+00:00 heroku[router]: at=info method=GET path="</span><span class="o">/</span><span class="s">" host=k4lelv.herokuapp.com request_id=1cc5b49f-eaba-4f5d-828c-4f1ac3dcddcc fwd="</span><span class="n">XX</span><span class="o">.</span><span class="n">XXX</span><span class="o">.</span><span class="n">XXX</span><span class="m">.160</span><span class="s">" dyno=web.1 connect=1ms service=3ms status=302 bytes=176 protocol=http
2020-02-03T11:15:28.279973+00:00 heroku[router]: at=info method=GET path="</span><span class="o">/</span><span class="n">robots</span><span class="o">.</span><span class="n">txt</span><span class="s">" host=k4lelv.herokuapp.com request_id=750ddd73-a1f7-4616-9827-119e5b3f280e fwd="</span><span class="n">XX</span><span class="o">.</span><span class="n">XXX</span><span class="o">.</span><span class="n">XXX</span><span class="m">.160</span><span class="s">" dyno=web.1 connect=1ms service=2ms status=404 bytes=372 protocol=http
2020-02-03T11:15:28.375122+00:00 heroku[router]: at=info method=GET path="</span><span class="o">/</span><span class="n">index</span><span class="o">.</span><span class="n">html</span><span class="s">" host=k4lelv.herokuapp.com request_id=e9db6b57-a2dc-406f-9d09-2549f65d429a fwd="</span><span class="n">XX</span><span class="o">.</span><span class="n">XXX</span><span class="o">.</span><span class="n">XXX</span><span class="m">.160</span><span class="s">" dyno=web.1 connect=1ms service=2ms status=200 bytes=233 protocol=http
2020-02-03T11:15:28.714967+00:00 heroku[router]: at=info method=GET path="</span><span class="o">/</span><span class="n">favicon</span><span class="o">.</span><span class="n">ico</span><span class="s">" host=k4lelv.herokuapp.com request_id=4bfb04e1-3b32-46a7-b0a0-3208e321596e fwd="</span><span class="n">XX</span><span class="o">.</span><span class="n">XXX</span><span class="o">.</span><span class="n">XXX</span><span class="m">.160</span><span class="s">" dyno=web.1 connect=1ms service=2ms status=404 bytes=373 protocol=http
2020-02-03T11:15:28.715303+00:00 app[web.1]: 10.111.222.196 - - [03/Feb/2020:11:15:28 +0000] "</span><span class="n">GET</span> <span class="o">/</span><span class="n">favicon</span><span class="o">.</span><span class="n">ico</span> <span class="n">HTTP</span><span class="o">/</span><span class="m">1.1</span><span class="s">" 404 209 "</span><span class="n">http</span><span class="o">:</span><span class="c">//k4lelv.herokuapp.com/index.html" "Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/77.0.3865.120 Safari/537.36</span>
</code></pre></div></div>

<p>Ya en este punto, podéis comenzar con la conversación encubierta.</p>

<p>Lo único que tenéis que hacer es lo siguiente: Abrid una conversación en WhatsApp con alguno de vuestros contactos, haced como si fuerais a enviar un mensaje a vuestro compañero escribiendo la dirección URL (en este caso la mía como PoC) <a href="http://k4lelv.herokuapp.com/">http://k4lelv.herokuapp.com/</a> y posteriormente escribid vuestro mensaje pegado a la barra <code class="language-plaintext highlighter-rouge">/</code>, por ejemplo:</p>

<p align="center">
<img src="https://k4lelv.github.io/k4lelvBlog.github.io/assets/images/whatsapp-canal-encubierto/whatsapp-victor.jpg" />
</p>

<p>Inmediatamente tras introducir los nuevos caracteres después de la barra <code class="language-plaintext highlighter-rouge">/</code>, empezaréis a ver desde el <code class="language-plaintext highlighter-rouge">heroku logs</code> a tiempo real los caracteres que se están escribiendo, sin enviar el mensaje a nuestro contacto:</p>

<p align="center">
<img src="https://k4lelv.github.io/k4lelvBlog.github.io/assets/images/whatsapp-canal-encubierto/logs-heroku.jpg" />
</p>

<p>De hecho si os fijáis, se puede considerar también un posible <code class="language-plaintext highlighter-rouge">IP Disclosure</code>, dado que podemos ver direcciones IP internas de WhatsApp:</p>

<ul>
  <li>10.142.192.223</li>
  <li>10.99.209.116</li>
  <li>10.47.180.171</li>
</ul>

<p>La idea en este punto, sería que nuestro compañero tuviera también descargado nuestro repositorio en local para efectuar el comando <code class="language-plaintext highlighter-rouge">heroku logs</code> y poder así también visualizar los logs a tiempo de escritura. De esta forma, resulta sencillo montarse un pequeño script en <code class="language-plaintext highlighter-rouge">Bash</code> u otro lenguaje que parsee la información más relevante, seguido de ciertas reglas que habría que configurar para por ejemplo configurar los nombres de usuario, espacios y algunas cosas adicionales (no es muy costoso).</p>

<p>Lo mejor de esto es que nunca estaremos enviando el mensaje a la persona en cuestión, pues todo esto se hace mientras escribimos antes de enviar.</p>

<h2 id="por-qué-sucede-esto">¿Por qué sucede esto?</h2>

<p>Cuando enviamos un mensaje a una persona en la que hay incluida una dirección URL, se carga una previsualización de la página antes de enviarlo. De esta forma, ya se está tramitando a nivel de petición un <code class="language-plaintext highlighter-rouge">GET</code> contra el servidor para obtener así la preview.</p>

<p>Lo mismo pasaría con el resto de caracteres, por cada caracter que introducimos, es un <code class="language-plaintext highlighter-rouge">GET</code> que se aplica hacia el servidor, lo que hace que si estamos a la escucha desde el lado del servidor atendiendo a los logs veamos esas peticiones entrantes.</p>

<p>Esto por defecto no sólo pasa en WhatsApp, también ocurre en Twitter, Telegram y otras plataformas.</p>


        
      </section>

      <footer class="page__meta">
        
        
  


  
  
  

  <p class="page__taxonomy">
    <strong><i class="fas fa-fw fa-tags" aria-hidden="true"></i> Tags: </strong>
    <span itemprop="keywords">
    
      
      
      <a href="/tags/#canales-encubiertos" class="page__taxonomy-item" rel="tag">Canales Encubiertos</a><span class="sep">, </span>
    
      
      
      <a href="/tags/#whatsapp" class="page__taxonomy-item" rel="tag">WhatsApp</a>
    
    </span>
  </p>




  


  
  
  

  <p class="page__taxonomy">
    <strong><i class="fas fa-fw fa-folder-open" aria-hidden="true"></i> Categories: </strong>
    <span itemprop="keywords">
    
      
      
      <a href="/categories/#research" class="page__taxonomy-item" rel="tag">Research</a>
    
    </span>
  </p>


        
          <p class="page__date"><strong><i class="fas fa-fw fa-calendar-alt" aria-hidden="true"></i> Fecha:</strong> <time datetime="2020-02-03T00:00:00+00:00">February 03, 2020</time></p>
        
      </footer>

      

      
  <nav class="pagination">
    
      <a href="/evil-trust/" class="pagination--pager" title="h-c0n 2020 - evilTrust (Herramienta Ofensiva)
">Previous</a>
    
    
      <a href="/oscp-preparacion/" class="pagination--pager" title="Preparación OSCP
">Next</a>
    
  </nav>

    </div>

    
  </article>

  
</div>

    </div>

    

    <div class="page__footer">
      <footer>
        <!-- start custom footer snippets -->

<!-- end custom footer snippets -->
        <div class="page__footer-follow">
  <ul class="social-icons">
    

    

    <li><a href="/feed.xml"><i class="fas fa-fw fa-rss-square" aria-hidden="true"></i> Feed</a></li>
  </ul>
</div>

<div class="page__footer-copyright">&copy; 2020 k4lelv</div>

      </footer>
    </div>

    
  <script src="/assets/js/main.min.js"></script>
  <script data-search-pseudo-elements defer src="https://use.fontawesome.com/releases/v5.7.1/js/all.js" integrity="sha384-eVEQC9zshBn0rFj4+TU78eNA19HMNigMviK/PU/FFjLXqa/GKPgX58rvt5Z8PLs7" crossorigin="anonymous"></script>








  </body>
</html>
